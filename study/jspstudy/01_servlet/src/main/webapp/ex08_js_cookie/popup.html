<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- https://www.jsdelivr.com/package/npm/js-cookie -> 여기서 다운로드 -->
<script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script> 
<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>


</head>
<body>

  <div>
    <h1>팝업화면</h1>
  </div>
  <div>
    <input type="checkbox" id="do_not_open_today">
    <label for="do_not_open_today">오늘 더 이상 열지 않기</label>
    <button type="button" id="btn_close">닫기</button>
  </div>
  
  <script>
    // 오늘 더이상 열지 않기를 체크한 경우
    // do_not_open_today 쿠키를 1일동안 모든 경로("/")에서 사용할 수 있도록 저장한다.
    
    $('#btn_close').click(function(){
      
      // id가 "do_not_open_today"인 HTML 체크박스 요소가 선택되어 있는지를 확인합니다. 
      // 콜론으로 구분된 :checked 선택자를 사용하여 체크박스가 선택되었는지 확인합니다.
      if($('#do_not_open_today').is(':checked')){ // if($('#do_not_open_today').prop('checked')) 동일 코드
      
        //"do_not_open_today"라는 이름의 쿠키(cookie)를 설정합니다. 
        // 이 쿠키는 'true'라는 값을 가지며, { expires: 1, path: '/'} 객체는 
        // 이 쿠키의 속성을 정의합니다. expires는 쿠키의 만료 날짜를 설정하고 
        // path는 쿠키가 적용되는 경로를 설정합니다. 
        // 체크박스가 선택되어 있을 때 쿠키를 설정합니다.
        Cookies.set('do_not_open_today', 'true', { expires: 1, path:'/'});  // 쿠기저장, 1은 하루
        
      }
      // 현재 창을 닫는 JavaScript 명령, 무조건적으로 현재 브라우저 창을 닫습니다.
      window.close();  // 현재 창 닫기 , 무조건 닫기!!!
      
    })
  

  </script>
  
  
  
  
  
  

</body>
</html>